{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport { SnowfallCanvas } from './SnowfallCanvas.js';\nimport { defaultConfig } from './Snowflake.js';\nimport { useComponentSize, useDeepMemo, useSnowfallStyle } from './hooks.js';\nexport const Snowfall = function () {\n  let {\n    color = defaultConfig.color,\n    changeFrequency = defaultConfig.changeFrequency,\n    radius = defaultConfig.radius,\n    speed = defaultConfig.speed,\n    wind = defaultConfig.wind,\n    rotationSpeed = defaultConfig.rotationSpeed,\n    opacity = defaultConfig.opacity,\n    snowflakeCount = 150,\n    images,\n    enable3DRotation = defaultConfig.enable3DRotation,\n    style\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const mergedStyle = useSnowfallStyle(style);\n  const canvasRef = useRef(null);\n  const canvasSize = useComponentSize(canvasRef);\n  const config = useDeepMemo({\n    color,\n    changeFrequency,\n    radius,\n    speed,\n    wind,\n    rotationSpeed,\n    images,\n    snowflakeCount,\n    opacity,\n    enable3DRotation\n  });\n  // A reference to the config used for creating the initial instance\n  const configRef = useRef(config);\n  const snowfallCanvasRef = useRef();\n  useEffect(() => {\n    if (!snowfallCanvasRef.current && canvasRef.current) {\n      snowfallCanvasRef.current = new SnowfallCanvas(canvasRef.current, configRef.current);\n    }\n    return () => {\n      var _a;\n      (_a = snowfallCanvasRef.current) === null || _a === void 0 ? void 0 : _a.pause();\n      snowfallCanvasRef.current = undefined;\n    };\n  }, []);\n  useEffect(() => {\n    if (snowfallCanvasRef.current) {\n      snowfallCanvasRef.current.updateConfig(config);\n    }\n  }, [config]);\n  return React.createElement(\"canvas\", {\n    ref: canvasRef,\n    height: canvasSize.height,\n    width: canvasSize.width,\n    style: mergedStyle,\n    \"data-testid\": \"SnowfallCanvas\"\n  });\n};\nexport default Snowfall;","map":{"version":3,"names":["React","useEffect","useRef","SnowfallCanvas","defaultConfig","useComponentSize","useDeepMemo","useSnowfallStyle","Snowfall","color","changeFrequency","radius","speed","wind","rotationSpeed","opacity","snowflakeCount","images","enable3DRotation","style","arguments","length","undefined","mergedStyle","canvasRef","canvasSize","config","configRef","snowfallCanvasRef","current","_a","pause","updateConfig","createElement","ref","height","width"],"sources":["/home/kvm-06/github/flork-meme-bank/node_modules/react-snowfall/src/Snowfall.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport { SnowfallCanvas, SnowfallCanvasConfig } from './SnowfallCanvas.js'\r\nimport { defaultConfig } from './Snowflake.js'\r\nimport { useComponentSize, useDeepMemo, useSnowfallStyle } from './hooks.js'\r\n\r\nexport interface SnowfallProps extends Partial<SnowfallCanvasConfig> {\r\n  /**\r\n   * Any style properties that will be passed to the canvas element.\r\n   */\r\n  style?: React.CSSProperties\r\n}\r\n\r\nexport const Snowfall = ({\r\n  color = defaultConfig.color,\r\n  changeFrequency = defaultConfig.changeFrequency,\r\n  radius = defaultConfig.radius,\r\n  speed = defaultConfig.speed,\r\n  wind = defaultConfig.wind,\r\n  rotationSpeed = defaultConfig.rotationSpeed,\r\n  opacity = defaultConfig.opacity,\r\n  snowflakeCount = 150,\r\n  images,\r\n  enable3DRotation = defaultConfig.enable3DRotation,\r\n  style,\r\n}: SnowfallProps = {}): JSX.Element => {\r\n  const mergedStyle = useSnowfallStyle(style)\r\n\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const canvasSize = useComponentSize(canvasRef)\r\n\r\n  const config = useDeepMemo<SnowfallCanvasConfig>({\r\n    color,\r\n    changeFrequency,\r\n    radius,\r\n    speed,\r\n    wind,\r\n    rotationSpeed,\r\n    images,\r\n    snowflakeCount,\r\n    opacity,\r\n    enable3DRotation,\r\n  })\r\n\r\n  // A reference to the config used for creating the initial instance\r\n  const configRef = useRef(config)\r\n\r\n  const snowfallCanvasRef = useRef<SnowfallCanvas>()\r\n\r\n  useEffect(() => {\r\n    if (!snowfallCanvasRef.current && canvasRef.current) {\r\n      snowfallCanvasRef.current = new SnowfallCanvas(canvasRef.current, configRef.current)\r\n    }\r\n\r\n    return () => {\r\n      snowfallCanvasRef.current?.pause()\r\n      snowfallCanvasRef.current = undefined\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (snowfallCanvasRef.current) {\r\n      snowfallCanvasRef.current.updateConfig(config)\r\n    }\r\n  }, [config])\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      height={canvasSize.height}\r\n      width={canvasSize.width}\r\n      style={mergedStyle}\r\n      data-testid=\"SnowfallCanvas\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default Snowfall\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,cAAc,QAA8B,qBAAqB;AAC1E,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,SAASC,gBAAgB,EAAEC,WAAW,EAAEC,gBAAgB,QAAQ,YAAY;AAS5E,OAAO,MAAMC,QAAQ,GAAG,SAAAA,CAAA,EAYc;EAAA,IAZb;IACvBC,KAAK,GAAGL,aAAa,CAACK,KAAK;IAC3BC,eAAe,GAAGN,aAAa,CAACM,eAAe;IAC/CC,MAAM,GAAGP,aAAa,CAACO,MAAM;IAC7BC,KAAK,GAAGR,aAAa,CAACQ,KAAK;IAC3BC,IAAI,GAAGT,aAAa,CAACS,IAAI;IACzBC,aAAa,GAAGV,aAAa,CAACU,aAAa;IAC3CC,OAAO,GAAGX,aAAa,CAACW,OAAO;IAC/BC,cAAc,GAAG,GAAG;IACpBC,MAAM;IACNC,gBAAgB,GAAGd,aAAa,CAACc,gBAAgB;IACjDC;EAAK,IAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MACY,EAAE;EACnB,MAAMG,WAAW,GAAGhB,gBAAgB,CAACY,KAAK,CAAC;EAE3C,MAAMK,SAAS,GAAGtB,MAAM,CAAoB,IAAI,CAAC;EACjD,MAAMuB,UAAU,GAAGpB,gBAAgB,CAACmB,SAAS,CAAC;EAE9C,MAAME,MAAM,GAAGpB,WAAW,CAAuB;IAC/CG,KAAK;IACLC,eAAe;IACfC,MAAM;IACNC,KAAK;IACLC,IAAI;IACJC,aAAa;IACbG,MAAM;IACND,cAAc;IACdD,OAAO;IACPG;GACD,CAAC;EAEF;EACA,MAAMS,SAAS,GAAGzB,MAAM,CAACwB,MAAM,CAAC;EAEhC,MAAME,iBAAiB,GAAG1B,MAAM,EAAkB;EAElDD,SAAS,CAAC,MAAK;IACb,IAAI,CAAC2B,iBAAiB,CAACC,OAAO,IAAIL,SAAS,CAACK,OAAO,EAAE;MACnDD,iBAAiB,CAACC,OAAO,GAAG,IAAI1B,cAAc,CAACqB,SAAS,CAACK,OAAO,EAAEF,SAAS,CAACE,OAAO,CAAC;IACtF;IAEA,OAAO,MAAK;;MACV,CAAAC,EAAA,GAAAF,iBAAiB,CAACC,OAAO,cAAAC,EAAA,uBAAAA,EAAA,CAAEC,KAAK,EAAE;MAClCH,iBAAiB,CAACC,OAAO,GAAGP,SAAS;IACvC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENrB,SAAS,CAAC,MAAK;IACb,IAAI2B,iBAAiB,CAACC,OAAO,EAAE;MAC7BD,iBAAiB,CAACC,OAAO,CAACG,YAAY,CAACN,MAAM,CAAC;IAChD;EACF,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEZ,OACE1B,KAAA,CAAAiC,aAAA;IACEC,GAAG,EAAEV,SAAS;IACdW,MAAM,EAAEV,UAAU,CAACU,MAAM;IACzBC,KAAK,EAAEX,UAAU,CAACW,KAAK;IACvBjB,KAAK,EAAEI,WAAW;IAAA,eACN;EAAgB,EAC5B;AAEN,CAAC;AAED,eAAef,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}